{"version":3,"file":"buche.es.js","sources":["../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v4.js","../lib/generic_block.ts","../lib/tree_functions.ts","../plugin-vue:export-helper","../lib/components/BucheBranch.vue","../lib/components/controls/BucheFoldButton.vue","../lib/components/controls/BucheCopyButton.vue","../lib/components/controls/BucheTeleportButton.vue","../lib/components/controls/BucheDestroyButton.vue","../lib/components/controls/BucheCloseActionsButton.vue","../lib/components/controls/BucheReorderPrevButton.vue","../lib/components/controls/BucheReorderNextButton.vue","../lib/components/controls/BucheOpenActionsButton.vue","../lib/lang/fr.ts","../lib/lang/en.ts","../lib/lang/index.ts","../lib/components/controls/BucheShowAddersButton.vue","../lib/components/controls/BucheReceiveTeleportButton.vue","../lib/components/controls/BucheReceiveCopyButton.vue","../lib/components/controls/BucheCssButton.vue","../lib/components/controls/BucheCssField.vue","../lib/components/BucheNode.vue","../lib/components/Buche.vue"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { v4 as uuidv4 } from 'uuid';\nimport { BlockDescription } from '.';\nexport const generic_block : BlockDescription = {\n    type: 'generic',\n    label: 'Groupe',\n    constructor: () => ({\n        data: {},\n        root: false,\n        type: 'generic',\n        children: [],\n        uuid: uuidv4(),\n    }),\n    children_min: 0,\n    has_children: true,\n};\n\nexport const root_node = () => ({\n    ...generic_block.constructor(),\n    root: true,\n})","import { v4 as uuidv4 } from \"uuid\";\nimport { Block } from \".\";\n\nexport const find_node = (node: Block, uuid: string) : Block | null => {\n    if (node.uuid === uuid) {\n        return node;\n    }\n    return ((node.children || []) as Block[]).reduce((out: null | Block, n: Block) => {\n        if (out) return out;\n        return find_node(n, uuid);\n    }, null);\n};\n\nexport const refresh_uuids = (node: Block) : Block => {\n    return {\n        ...node,\n        uuid: uuidv4(),\n        children: (node.children || []).map((n) => refresh_uuids(n)),\n    };\n};\n\nexport const insert_in_tree = (node: Block, to_insert: Block, destination_uuid: string) : Block => {\n    if (node.uuid === destination_uuid) {\n        return {\n            ...node,\n            children: [...(node.children || []), to_insert],\n        };\n    } else {\n        return {\n            ...node,\n            children: (node.children || []).map((n) =>\n                insert_in_tree(n, to_insert, destination_uuid)\n            ),\n        };\n    }\n};\n\nexport const remove_from_tree = (node: Block, uuid_to_remove: string) : Block => {\n    return {\n        ...node,\n        children: node.children\n            .filter((n) => n.uuid !== uuid_to_remove)\n            .map((n) => remove_from_tree(n, uuid_to_remove)),\n    };\n};\n\nexport const teleport_in_tree = (node: Block, to_teleport: Block, destination_uuid: string) : Block => {\n    const tree = insert_in_tree(\n        node,\n        refresh_uuids(to_teleport),\n        destination_uuid\n    );\n    return remove_from_tree(tree, to_teleport.uuid);\n};\n\nexport const performUpgrades = (node: Block) : Block => {\n    const n = {...node};\n\n    if (typeof n.cssClasses === \"undefined\") {\n        n.cssClasses = \"\";\n    }\n\n    n.children = n.children.map(performUpgrades);\n\n    return n;\n};","\nexport default (sfc, props) => {\n  for (const [key, val] of props) {\n    sfc[key] = val\n  }\n  return sfc\n}\n","<template>\n  <div class=\"BucheBranch\">\n    <buche-node\n      v-for=\"(node, index) in tNodes\"\n      :node=\"node\"\n      :depth=\"depth\"\n      :lang=\"lang\"\n      :index=\"index\"\n      :active_node=\"active_node\"\n      @active_node=\"$emit('active_node', $event)\"\n      :total=\"nodes.length\"\n      :copy_candidate=\"copy_candidate\"\n      :teleport_candidate=\"teleport_candidate\"\n      :path=\"[...path, (node).type]\"\n      :blocks=\"blocks\"\n      :inside_developed_block=\"inside_developed_block\"\n      :show_labels=\"show_labels\"\n      :can_destroy=\"can_destroy\"\n      @before=\"handle_before((node).uuid)\"\n      @after=\"handle_after((node).uuid)\"\n      @want_teleport=\"$emit('want_teleport', $event)\"\n      @destroy=\"handle_destroy((node).uuid)\"\n      @want_copy=\"$emit('want_copy', $event)\"\n      @teleport=\"$emit('teleport', $event)\"\n      @bucheCopy=\"$emit('bucheCopy', $event)\"\n      @update:node=\"updateBranch((node).uuid, $event)\"\n      :key=\"node.uuid\"\n    ></buche-node>\n  </div>\n</template>\n\n<script lang=\"ts\">\n// @ts-nocheck\n// migration in progress.\nimport { Block } from \"..\";\nimport BucheNode from \"./BucheNode.vue\";\n\nexport default {\n  name: \"BucheBranch\",\n  computed: {\n    tNodes() {\n      return this.nodes as Block[];\n    }\n  },\n  props: {\n    lang: {\n      type: String,\n      default: \"en\",\n    },\n    inside_developed_block: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    nodes: {\n      type: Array,\n      default: () => [],\n    },\n    show_labels: {\n      type: Boolean,\n      default: false,\n    },\n    active_node: {},\n    copy_candidate: {},\n    teleport_candidate: {},\n    path: {\n      type: Array,\n      default: () => [],  \n    },\n    depth: {},\n    blocks: {},\n    can_destroy: {},\n  },\n  beforeCreate: function () {\n    this.$options.components = { BucheNode };\n  },\n  methods: {\n    handle_before(uuid: string) {\n      const index = this.nodes.findIndex((n: Block) => n.uuid === uuid);\n      if (index === 0 || !index) return;\n      const nodes = [...this.nodes];\n      const item = nodes.splice(index, 1)[0];\n      nodes.splice(index - 1, 0, item);\n      this.$emit(\"update:nodes\", nodes);\n    },\n    handle_after(uuid: string) {\n      const index = this.nodes.findIndex((n: Block) => n.uuid === uuid);\n      if (index === this.nodes.length - 1 || (!index && index !== 0)) return;\n      const nodes = [...this.nodes];\n      const item = nodes.splice(index, 1)[0];\n      nodes.splice(index + 1, 0, item);\n      this.$emit(\"update:nodes\", nodes);\n    },\n    handle_destroy(uuid: string) {\n      this.$emit(\n        \"update:nodes\",\n        [...this.nodes].filter((a) => a.uuid !== uuid)\n      );\n    },\n    updateBranch(uuid: string, node: Block) {\n      this.$emit(\n        \"update:nodes\",\n        this.nodes.map((a: Block) => {\n          return a.uuid === uuid ? node : a;\n        })\n      );\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n","<template>\n  <button class=\"button is-rounded is-small is-xsmall\" @click=\"$emit('update:folded', !folded)\">\n    <span class=\"icon is-small\" v-if=\"folded\">\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\" />\n      </svg>\n    </span>\n    <span class=\"icon is-small\" v-else>\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\" />\n      </svg>\n    </span>\n  </button>\n</template>\n\n<script>\n// @ts-nocheck\n// migration in progress\nexport default {\n  props: {\n    folded: {},\n  },\n};\n</script>\n\n<style>\n\n</style>","<template>\n  <button class=\"BucheNode_action_reorder_copy button is-small is-xsmall is-rounded\">\n    <span class=\"icon is-small\">\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\"\n          d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\" />\n      </svg>\n    </span>\n  </button>\n</template>\n\n<script>\n  // @ts-nocheck\n// migration in progress\nexport default {\n  name: \"BucheCopyButton\"\n}\n</script>\n\n<style>\n\n</style>","<template>\n  <button class=\"BucheNode_action_reorder_teleport button is-small is-xsmall is-rounded\">\n    <span class=\"icon is-small\">\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\"\n          d=\"M13.13 22.19L11.5 18.36C13.07 17.78 14.54 17 15.9 16.09L13.13 22.19M5.64 12.5L1.81 10.87L7.91 8.1C7 9.46 6.22 10.93 5.64 12.5M19.22 4C19.5 4 19.75 4 19.96 4.05C20.13 5.44 19.94 8.3 16.66 11.58C14.96 13.29 12.93 14.6 10.65 15.47L8.5 13.37C9.42 11.06 10.73 9.03 12.42 7.34C15.18 4.58 17.64 4 19.22 4M19.22 2C17.24 2 14.24 2.69 11 5.93C8.81 8.12 7.5 10.53 6.65 12.64C6.37 13.39 6.56 14.21 7.11 14.77L9.24 16.89C9.62 17.27 10.13 17.5 10.66 17.5C10.89 17.5 11.13 17.44 11.36 17.35C13.5 16.53 15.88 15.19 18.07 13C23.73 7.34 21.61 2.39 21.61 2.39S20.7 2 19.22 2M14.54 9.46C13.76 8.68 13.76 7.41 14.54 6.63S16.59 5.85 17.37 6.63C18.14 7.41 18.15 8.68 17.37 9.46C16.59 10.24 15.32 10.24 14.54 9.46M8.88 16.53L7.47 15.12L8.88 16.53M6.24 22L9.88 18.36C9.54 18.27 9.21 18.12 8.91 17.91L4.83 22H6.24M2 22H3.41L8.18 17.24L6.76 15.83L2 20.59V22M2 19.17L6.09 15.09C5.88 14.79 5.73 14.47 5.64 14.12L2 17.76V19.17Z\" />\n      </svg>\n    </span>\n  </button>\n</template>\n\n<script>\n// @ts-nocheck\n// migration in progress\nexport default {\n  name: \"BucheTeleportButton\"\n};\n</script>\n\n<style>\n\n</style>","<template>\n  <button class=\"BucheNode_action_reorder_destroy button is-small is-xsmall is-rounded\">\n    <span class=\"icon is-small\">\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\"\n          d=\"M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z\" />\n      </svg>\n    </span>\n  </button>\n</template>\n\n<script>\n// @ts-nocheck\n// migration in progress\nexport default {\n  name: \"BucheDestroyButton\"\n}\n</script>\n\n<style>\n\n</style>","<template>\n  <button class=\"BucheNode_action_hide_actions button is-small is-xsmall is-rounded\">\n    <span class=\"icon is-small\">\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\"\n          d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\n      </svg>\n    </span>\n  </button>\n</template>\n\n<script>\n  // @ts-nocheck\n// migration in progress\nexport default {\n  name: \"BucheCloseActionsButton\"\n};\n</script>\n\n<style>\n\n</style>","<template>\n  <button class=\"BucheNode_action_reorder_prev button is-small is-xsmall is-rounded\">\n    <span class=\"icon is-small\">\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z\" />\n      </svg>\n    </span>\n  </button>\n</template>\n\n<script>\n// @ts-nocheck\n// migration in progress\nexport default {};\n</script>\n\n<style>\n\n</style>","<template>\n  <button class=\"BucheNode_action_reorder_next button is-small is-xsmall is-rounded\">\n    <span class=\"icon is-small\">\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z\" />\n      </svg>\n    </span>\n  </button>\n</template>\n\n<script>\n// @ts-nocheck\n// migration in progress\nexport default {};\n</script>\n\n<style>\n\n</style>","<template>\n  <button class=\"BucheNode_action_hide_actions button is-small  is-xsmall is-rounded\">\n    <span class=\"icon is-small\">\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\"\n          d=\"M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,13L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.04 19.05,18.95L16.56,17.95C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10M11.25,4L10.88,6.61C9.68,6.86 8.62,7.5 7.85,8.39L5.44,7.35L4.69,8.65L6.8,10.2C6.4,11.37 6.4,12.64 6.8,13.8L4.68,15.36L5.43,16.66L7.86,15.62C8.63,16.5 9.68,17.14 10.87,17.38L11.24,20H12.76L13.13,17.39C14.32,17.14 15.37,16.5 16.14,15.62L18.57,16.66L19.32,15.36L17.2,13.81C17.6,12.64 17.6,11.37 17.2,10.2L19.31,8.65L18.56,7.35L16.15,8.39C15.38,7.5 14.32,6.86 13.12,6.62L12.75,4H11.25Z\" />\n      </svg>\n    </span>\n  </button>\n</template>\n\n<script>\n// @ts-nocheck\n// migration in progress\nexport default {};\n</script>\n\n<style>\n\n</style>","export const fr = {\n    'No children yet.': 'Pas encore de blocs !',\n    'Add a block': 'Ajouter un bloc',\n    \"Close block list\": 'Fermer la liste',\n    'Teleport here.': 'Téléporter ici',\n    'Paste here.': 'Coller ici',\n    'Edit this block': 'Éditer ce bloc',\n    'Close this block': 'Fermer ce bloc',\n};","export const en = {\n\n};","import { fr } from \"./fr\";\nimport { en } from \"./en\";\n\nconst langs = {\n    fr,\n    en,\n};\n\nexport const t_ = (string: string, lang: 'en' | 'fr') : string => {\n    const l = langs[lang];\n    if (!l) return string;\n    const s = l[string as keyof typeof l];\n    if (!s) return string;\n    return s;\n};","<template>\n  <button class=\"button is-small is-xsmall\">\n    <span class=\"icon is-small\" v-if=\"show_adders\">\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\"\n          d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\n      </svg>\n    </span>\n    <span class=\"icon is-small\" v-else>\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M19,6H22V8H19V11H17V8H14V6H17V3H19V6M17,17V14H19V19H3V6H11V8H5V17H17Z\" />\n      </svg>\n    </span>\n    <span style=\"margin-left: 0.25em\">\n      {{ show_adders ? t_(\"Close block list\") : t_(\"Add a block\") }}\n    </span>\n  </button>\n</template>\n\n<script>\n// @ts-nocheck\n// migration in progress\nimport { t_ } from \"./../../lang/index\";\n\nexport default {\n  props: {\n    show_adders: {},\n    lang: {},\n  },\n  methods: {\n    t_(str) {\n      return t_(str, this.lang);\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>","<template>\n  <button class=\"button is-primary is-small is-xsmall\">\n    <span class=\"icon is-small\">\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\"\n          d=\"M11,2V4.07C7.38,4.53 4.53,7.38 4.07,11H2V13H4.07C4.53,16.62 7.38,19.47 11,19.93V22H13V19.93C16.62,19.47 19.47,16.62 19.93,13H22V11H19.93C19.47,7.38 16.62,4.53 13,4.07V2M11,6.08V8H13V6.09C15.5,6.5 17.5,8.5 17.92,11H16V13H17.91C17.5,15.5 15.5,17.5 13,17.92V16H11V17.91C8.5,17.5 6.5,15.5 6.08,13H8V11H6.09C6.5,8.5 8.5,6.5 11,6.08M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11Z\" />\n      </svg>\n    </span>\n    <span style=\"margin-left: 0.25em\"> {{ t_(\"Teleport here.\") }}</span>\n  </button>\n</template>\n\n<script>\n// @ts-nocheck\n// migration in progress\nimport { t_ } from \"./../../lang\";\n\nexport default {\n  props: { lang: {} },\n  methods: {\n    t_(s) {\n      return t_(s, this.lang);\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>","<template>\n  <button class=\"button is-primary is-small is-xsmall\">\n    <span class=\"icon is-small\">\n      <svg style=\"width: 14px; height: 14px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\"\n          d=\"M19,20H5V4H7V7H17V4H19M12,2A1,1 0 0,1 13,3A1,1 0 0,1 12,4A1,1 0 0,1 11,3A1,1 0 0,1 12,2M19,2H14.82C14.4,0.84 13.3,0 12,0C10.7,0 9.6,0.84 9.18,2H5A2,2 0 0,0 3,4V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V4A2,2 0 0,0 19,2Z\" />\n      </svg></span>\n    <span style=\"margin-left: 0.25em\">{{ t_(\"Paste here.\") }}</span>\n  </button>\n</template>\n\n<script>\n// @ts-nocheck\n// migration in progress\nimport { t_ } from \"./../../lang\";\n\nexport default {\n  props: { lang: {} },\n  methods: {\n    t_(s) {\n      return t_(s, this.lang);\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>","<template>\n  <button class=\"button is-rounded is-small is-xsmall\" @click=\"$emit('update:editcss', !editing)\">\n    <span class=\"icon is-small\" v-if=\"!editing\">\n      C\n    </span>\n    <span class=\"icon is-small\" v-else>\n      X\n    </span>\n  </button>\n</template>\n\n<script>\n  // @ts-nocheck\n// migration in progress\nexport default {\n  props: {\n    editing: {},\n  },\n};\n</script>\n\n<style>\n\n</style>","<template>\n    <input class=\"input is-small\" style=\"display: inline-block; width: 20ch; position: relative; top: -3px; border-radius: 16px; transform: scale(0.9)\" v-model=\"v\" />\n</template>\n\n<script lang=\"ts\">\n    // @ts-nocheck\n// migration in progress\nexport default {\n    name: \"BucheCssField\",\n    props: {\n        classes: {\n            type: String,\n            default: '',\n        },\n    },\n    computed: {\n        v: {\n            get() {\n                return this.classes;\n            },\n            set(v) {\n                this.$emit('update:classes', v);\n            }\n        }\n    }\n};\n</script>","<template>\n  <div\n    class=\"BucheNode box box-small\"\n    @mousemove.stop=\"() => active_node !== node.uuid ? $emit('active_node', node.uuid) : 1\"\n    :style=\"{\n      background: `rgba(0,0,0, ${0.02 * (depth % 4)})`,\n      border: active_node === node.uuid ? '1px solid #0827a2' : '1px solid #aaa',\n      boxShadow: active_node === node.uuid ? '0px 0px 5px rgba(24, 8, 85, 0.5)' : '', \n    }\"\n    :class=\"{\n      'BucheNode--open_for_edition': open_for_edition,\n      [`BucheNode_node-${node.type}`]: 1,\n      'BucheNode--will_be_teleported': teleport_candidate === node.uuid,\n      'BucheNode--will_be_copied': copy_candidate === node.uuid,\n    }\"\n  >\n    <div class=\"BucheNode_header\">\n      <div style=\"display: flex\">\n        <buche-fold-button\n          :folded=\"folded\"\n          @update:folded=\"folded = $event\"\n        ></buche-fold-button>\n        &nbsp;\n        <h3 class=\"BucheNode_title subtitle\" v-show=\"show_labels\">\n          {{ find_block(node.type).label }}\n        </h3>\n      </div>\n      <div v-show=\"too_small && !open_for_edition && !inside_developed_block\">\n       <button\n          class=\"button is-rounded is-small is-xsmall\"\n          @click=\"open_for_edition = !open_for_edition\"\n        >  {{ t_(\"Edit this block\") }}</button>\n      </div>\n      <div v-show=\"open_for_edition\">\n       <button\n          class=\"button is-rounded is-small is-xsmall\"\n          @click=\"open_for_edition = !open_for_edition\"\n        >  {{ t_(\"Close this block\") }}</button>\n      </div>\n      <div v-show=\"!too_small || open_for_edition || inside_developed_block\" class=\"BucheNode_actions buttons\" v-if=\"!node.root\">\n        <buche-css-field v-if=\"editing_css\" :classes=\"node.cssClasses || ''\" @update:classes=\"updateClasses\"></buche-css-field>\n        <buche-css-button\n          v-show=\"show_actions\"\n          :editing=\"editing_css\"\n          @update:editcss=\"editing_css = $event\">\n        </buche-css-button>\n        <buche-reorder-prev-button\n          v-show=\"show_actions\"\n          :disabled=\"index && index === 0\"\n          @click=\"$emit('before', node.uuid)\"\n        ></buche-reorder-prev-button>\n        <buche-reorder-next-button\n          v-show=\"show_actions\"\n          :disabled=\"index && index === (total || 0) - 1\"\n          @click=\"$emit('after', node.uuid)\"\n        ></buche-reorder-next-button>\n        <buche-copy-button\n          v-show=\"show_actions\"\n          :class=\"copy_candidate === node.uuid ? 'is-primary' : ''\"\n          @click=\"$emit('bucheCopy', node.uuid)\"\n        ></buche-copy-button>\n        <buche-teleport-button\n          v-show=\"show_actions\"\n          :class=\"teleport_candidate === node.uuid ? 'is-primary' : ''\"\n          @click=\"$emit('teleport', node.uuid)\"\n        ></buche-teleport-button>\n        <buche-destroy-button\n          v-show=\"show_actions\"\n          :disabled=\"!can_destroy\"\n          @click=\"$emit('destroy')\"\n        ></buche-destroy-button>\n        <buche-close-actions-button\n          v-show=\"show_actions\"\n          @click=\"show_actions = false\"\n        ></buche-close-actions-button>\n        <buche-open-actions-button\n          v-show=\"!show_actions\"\n          @click=\"show_actions = true\"\n        ></buche-open-actions-button>\n        \n      </div>\n    </div>\n\n\n    <div\n      class=\"BucheNode_editor\"\n      v-show=\"!folded\"\n      v-if=\"(!too_small || inside_developed_block || open_for_edition) && node.type !== 'generic'\"\n    >\n      <component\n        :is=\"find_block(node.type).editor\"\n        :value=\"node.data\"\n        @update:value=\"node.data = $event\"\n      ></component>\n    </div>\n\n    <div\n      class=\"BucheNode_children\"\n      v-show=\"(!folded && !too_small) || open_for_edition || inside_developed_block\"\n      v-if=\"((!folded && !too_small) || open_for_edition || inside_developed_block) && find_block(node.type).has_children\"\n    >\n      <div class=\"BucheNode_children_empty\" v-if=\"node.children.length === 0\">\n        {{ t_(\"No children yet.\") }}\n      </div>\n\n      <buche-branch\n        :nodes=\"tNode.children\"\n        :path=\"[...path, tNode.type]\"\n        :blocks=\"blocks\"\n        :lang=\"lang\"\n        :can_destroy=\"\n          !find_block(tNode.type).children_min ||\n          (find_block(tNode.type).children_min ?? 0) < node.children.length\n        \"\n        :active_node=\"active_node\"\n        @active_node=\"$emit('active_node', $event)\"\n        :show_labels=\"show_labels\"\n        :inside_developed_block=\"open_for_edition ? true : inside_developed_block\"\n        :depth=\"depth + 1\"\n        @bucheCopy=\"$emit('bucheCopy', $event)\"\n        @want_teleport=\"$emit('want_teleport', $event)\"\n        @teleport=\"$emit('teleport', $event)\"\n        @want_copy=\"$emit('want_copy', $event)\"\n        :copy_candidate=\"copy_candidate\"\n        :teleport_candidate=\"teleport_candidate\"\n        @update:nodes=\"update_nodes\"\n      ></buche-branch>\n\n      <div\n        class=\"BucheNode_buttons_add_node\"\n        style=\"margin-top: 1em\"\n        v-show=\"!too_small || open_for_edition || inside_developed_block\"\n        v-if=\"\n          !find_block(tNode.type).children_max ||\n          (find_block(tNode.type).children_max ?? 999) > tNode.children.length\n        \"\n      >\n        <div class=\"buttons\">\n          <buche-show-adders-button\n            :lang=\"lang\"\n            :show_adders=\"show_adders\"\n            @click=\"show_adders = !show_adders\"></buche-show-adders-button>\n          <buche-receive-teleport-button  :lang=\"lang\" v-if=\"teleport_candidate && teleport_candidate !== node.uuid\"\n            @click=\"$emit('want_teleport', tNode.uuid)\"></buche-receive-teleport-button>\n          <buche-receive-copy-button \n            :lang=\"lang\" v-if=\"copy_candidate && copy_candidate !== node.uuid\"\n            @click=\"$emit('want_copy', tNode.uuid)\"></buche-receive-copy-button>\n        </div>\n        <div class=\"buttons\" v-show=\"show_adders\" style=\"margin-top: 1em\">\n          <button\n            class=\"button is-small is-xsmall\"\n            :class=\"[\n              `BucheNode_button_add_block`,\n              `BucheNode_button_add_block-${v.type}`,\n            ]\"\n            v-for=\"(v, key) in blocks\"\n            :key=\"key\"\n            @click=\"add_child(v)\"\n          >\n            {{ v.label }}\n          </button>\n        </div>\n      </div>\n      <div\n        class=\"BucheNode_tree_actions_buttons buttons\"\n        v-if=\"\n          (teleport_candidate && teleport_candidate !== node.uuid) ||\n          (copy_candidate && copy_candidate !== node.uuid)\n        \"\n      ></div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n// @ts-nocheck\n// migration in progress\nimport BucheBranch from \"./BucheBranch.vue\";\nimport BucheFoldButton from \"./controls/BucheFoldButton.vue\";\nimport BucheCopyButton from \"./controls/BucheCopyButton.vue\";\nimport BucheTeleportButton from \"./controls/BucheTeleportButton.vue\";\nimport BucheDestroyButton from \"./controls/BucheDestroyButton.vue\";\nimport BucheCloseActionsButton from \"./controls/BucheCloseActionsButton.vue\";\nimport BucheReorderPrevButton from \"./controls/BucheReorderPrevButton.vue\";\nimport BucheReorderNextButton from \"./controls/BucheReorderNextButton.vue\";\nimport BucheOpenActionsButton from \"./controls/BucheOpenActionsButton.vue\";\nimport BucheShowAddersButton from \"./controls/BucheShowAddersButton.vue\";\nimport BucheReceiveTeleportButton from \"./controls/BucheReceiveTeleportButton.vue\"\nimport { t_ } from \"./../lang/index\";\nimport BucheReceiveCopyButton from './controls/BucheReceiveCopyButton.vue';\nimport { Block, BlockDescription } from \"..\";\nimport BucheCssButton from \"./controls/BucheCssButton.vue\";\nimport BucheCssField from \"./controls/BucheCssField.vue\";\n\n// TODO fix: eslint error about mutating prop node\nexport default {\n  components: {\n    BucheBranch,\n    BucheFoldButton,\n    BucheReorderNextButton,\n    BucheReorderPrevButton,\n    BucheCopyButton,\n    BucheTeleportButton,\n    BucheDestroyButton,\n    BucheOpenActionsButton,\n    BucheCloseActionsButton,\n    BucheShowAddersButton,\n    BucheReceiveTeleportButton,\n    BucheReceiveCopyButton,\n    BucheCssButton,\n    BucheCssField\n},\n  name: \"BucheNode\",\n  data() {\n    return {\n      show_actions: false,\n      show_adders: false,\n      folded: false,\n      too_small: false,\n      open_for_edition: false,\n      editing_css: false,\n    };\n  },\n  computed: {\n    tNode() {\n      return this.node as Block;\n    }\n  },\n  props: {\n    lang: {\n      type: String,\n      default: \"en\",\n    },\n    inside_developed_block: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    active_node: {},\n    node: {\n      type: Object,\n      required: true,\n    },\n    show_labels: {\n      type: Boolean,\n      default: false,\n    },\n    depth: {\n      type: Number,\n      default: 0,\n    },\n    blocks: {\n      type: Object,\n      default: () => ({}),\n    },\n    path: {\n      type: Array,\n      default: () => [],\n    },\n    index: {\n      type: Number,\n    },\n    total: {\n      type: Number,\n    },\n    copy_candidate: {},\n    teleport_candidate: {},\n    can_destroy: {\n      type: Boolean,\n      default: true,\n    },\n    root: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  methods: {\n    updateClasses(value) {\n      this.$emit('update:node', {...this.node, cssClasses: value});\n    },\n    t_(string: string) {\n      return t_(string, this.lang);\n    },\n    find_block(type: string) : BlockDescription {\n      return this.blocks[type];\n    },\n    update_nodes(payload: Block[]) {\n      this.$emit(\"update:node\", {\n        ...this.node,\n        children: payload,\n      });\n    },\n    add_child(block: BlockDescription) {\n      this.$emit(\"update:node\", {\n        ...this.node,\n        children: [...this.node.children, block.constructor()],\n      });\n      this.show_adders = false;\n    },\n    check_sizing() {\n      const w = this.$el.getBoundingClientRect().width;\n      this.too_small = w < 460;\n    },\n  },\n  mounted() {\n    setInterval(() => {\n      if (this.open_for_edition) return;\n      this.check_sizing();\n    }, 300);\n    window.addEventListener('resize', this.check_sizing);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.check_sizing);\n  }\n};\n</script>\n\n<style>\n.BucheNode {\n  margin-bottom: 2em;\n  position: relative;\n}\n.BucheNode--open_for_edition {\n    position: fixed;\n    width: 100%;\n    max-width: 1280px;\n    min-height: 600px;\n    max-height: 90vh;\n    overflow-y: scroll;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background: white!important;\n    z-index: 99;\n}\n.BucheNode--open_for_edition .box {\n  height: 100%;\n}\n.BucheNode_header {\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: .5em;\n}\n.BucheNode_children {\n  margin: 1em 0;\n}\n.BucheNode_title.subtitle {\n    font-size: 0.75rem;\n    font-weight: 400;\n    line-height: 1.25;\n    position: relative;\n    top: 0.4em;\n    left: 0.4em;\n}\n</style>\n","<template>\n  <div class=\"Buche\" style=\"background: white;\">\n    <buche-node v-if=\"node\" :depth=\"0\" :index=\"0\" :active_node=\"active_node\" @active_node=\"active_node = $event\"\n      :total=\"1\" :lang=\"lang\" :root=\"true\" @want_teleport=\"trigger_teleport\" @want_copy=\"trigger_copy\" @teleport=\"\n        root_teleport_candidate =\n          $event === root_teleport_candidate ? null : $event\n      \" @bucheCopy=\"\n        root_copy_candidate = $event === root_copy_candidate ? null : $event\n      \" :blocks=\"tBlocks\" :path=\"[]\" :show_labels=\"show_labels\" :copy_candidate=\"root_copy_candidate\"\n      :teleport_candidate=\"root_teleport_candidate\"\n      :node=\"tNode\" @update:node=\"$emit('update:node', $event)\">\n    </buche-node>\n  </div>\n</template>\n\n<script lang=\"ts\">\n// @ts-nocheck\n// migration in progress\nimport { Block, BlockDescription } from \"..\";\nimport {\n  teleport_in_tree,\n  find_node,\n  refresh_uuids,\n  insert_in_tree,\n  performUpgrades,\n} from \"../tree_functions\";\nimport BucheNode from \"./BucheNode.vue\";\n\nexport default {\n  name: \"Buche\",\n  components: {\n    BucheNode,\n  },\n  props: {\n    node: {},\n    lang: {\n      type: String,\n      default: \"en\",\n    },\n    blocks: {},\n    show_labels: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  computed: {\n    tNode() {\n      return this.node as Block;\n    },\n    tBlocks() {\n      return this.blocks as Record<string, BlockDescription>;\n    },\n  },\n  data() {\n    return {\n      root_teleport_candidate: null,\n      root_copy_candidate: null,\n      active_node: null,\n    };\n  },\n  mounted() {\n    if (!this.node) return;\n    this.$emit('update:node', performUpgrades(this.node));\n  },\n  methods: {\n    trigger_teleport(to_uuid) {\n      const source_uuid = this.root_teleport_candidate;\n      const source_node = find_node(this.node, source_uuid);\n      if (source_node === null) return;\n      this.$emit(\n        \"update:node\",\n        teleport_in_tree(this.node, source_node, to_uuid)\n      );\n      this.root_teleport_candidate = null;\n    },\n    trigger_copy(to_uuid) {\n      const source_uuid = this.root_copy_candidate;\n      const source_node = find_node(this.node, source_uuid);\n      if (source_node === null) return;\n      const copy = refresh_uuids(source_node);\n      this.$emit(\"update:node\", insert_in_tree(this.node, copy, to_uuid));\n      this.root_copy_candidate = null;\n    },\n  },\n};\n</script>"],"names":["uuidv4","_sfc_main","_createElementBlock","_openBlock","_createBlock","_hoisted_1","_hoisted_2","_withDirectives","_createElementVNode","_createVNode","_normalizeClass","_resolveDynamicComponent","_createCommentVNode","_Fragment"],"mappings":"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"}